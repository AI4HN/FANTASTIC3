<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Accueil Vivienne</title>
<script>
    // AVERTISSEMENT : Je dois inclure l'avertissement dans tous les codes de cette application.
    /*
    ================================================================================
      MENU
    ================================================================================
    
    ================================================================================
      AVERTISSEMENT - PROTOTYPE
    ================================================================================
      - Propriété : Ce code est un prototype et reste la propriété intellectuelle 
        de Frédéric Jacquet / AI[4]HumanNexus (https://ai4humannexus.com/).
      - Licence d'utilisation : Il est mis à la disposition exclusive de 
        l'accueil "Vivienne" de VCA, à titre gracieux et uniquement pour des 
        fins de test et d'évaluation.
      - Non-distribution : Ce code ne doit en aucun cas être transmis, copié ou 
        distribué sans l'autorisation écrite de son auteur.
      - Absence de garantie : Ce prototype est fourni "en l'état" à des fins de 
        démonstration et n'incorpore aucune garantie de maintenance ou de support 
        pour d'éventuelles évolutions.
    ================================================================================
    */
</script>
<style>
    /*
     * AVERTISSEMENT :
     * Ce code est un exemple de proposition UX/UI. Avant toute utilisation en
     * production ou intégration finale, il est impératif de réaliser des tests
     * d'accessibilité et de compatibilité.
     */
    :root{
        --bg:#f2f4f7;
        --text:#1f2a37;
        --muted:#6b7280;
        --tile:#ffffff;
        --shadow:0 10px 25px rgba(0,0,0,.08);
        --radius:22px;
        --accent:#3b82f6;
        --green:#34d399;
        --orange:#f59e0b;
        --violet:#8b5cf6;
        --mint:#a7f3d0;
        --gray:#64748b;
        --red:#ef4444; 
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
        margin:0;
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,"Helvetica Neue",Arial,sans-serif;
        color:var(--text);
        
        /* Retrait du background ici, il est déplacé vers ::before */
        background-color: #e9ecf4; 
        
        padding: 50px 20px 400px 20px; 
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh; 
        position: relative; /* Nécessaire pour le pseudo-élément */
    }

    /* ****************************************************************** */
    /* NOUVEAU : APPLICATION DU FILTRE SUR LE FOND */
    /* ****************************************************************** */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('./CHARLESTON-APPS/IMG/fond_global_vivienne.jpg');
        background-size: cover; 
        background-position: center center;
        background-repeat: no-repeat;
        
        /* APPLICATION DES FILTRES DE PROFONDEUR */
        filter: blur(2px) brightness(0.7); /* Flou léger et assombrissement */
        
        z-index: -1; /* Met le fond derrière tout le contenu (l'iPhone) */
        will-change: transform; /* Optimisation pour le filtre */
    }
    /* ****************************************************************** */


    /* Cadre du Téléphone et éléments de la bordure (inchangés) */
    .iphone-frame {
        width: 390px; height: 844px; background-color: #222; border-radius: 48px; padding: 10px;
        box-shadow: 0 20px 50px rgba(0,0,0,.25), 0 0 0 1px #444; position: relative; margin: 0 auto; 
    }
    .power-button { position: absolute; top: 150px; right: -3px; width: 3px; height: 50px; background-color: #333; border-radius: 0 4px 4px 0; border-right: 1px solid #444; border-top: 1px solid #444; border-bottom: 1px solid #444; z-index: 10; }
    .silence-switch { position: absolute; top: 80px; left: -3px; width: 3px; height: 20px; background-color: #333; border-radius: 4px 0 0 4px; border-left: 1px solid #444; border-top: 1px solid #444; border-bottom: 1px solid #444; z-index: 10; }
    .volume-button { position: absolute; left: -3px; width: 3px; height: 40px; background-color: #333; border-radius: 4px 0 0 4px; border-left: 1px solid #444; z-index: 10; }
    .volume-up { top: 120px; border-top: 1px solid #444; }
    .volume-down { top: 175px; border-bottom: 1px solid #444; }
    .bottom-speaker { position: absolute; bottom: 18px; left: 50%; transform: translateX(-50%); width: 80px; height: 4px; background-color: #333; border-radius: 4px; }
    
    .screen-border {
        /* FOND D'ÉCRAN DE L'IPHONE (conservé) */
        background-image: url('./CHARLESTON-APPS/IMG/FOND ECRAN.png');
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        border-radius: 38px;
        overflow-y: hidden;
        overflow-x: hidden;
        padding-bottom: 20px; position: relative;
        width: 100%; height: 100%;
    }
    .phone{ max-width: none; margin: 0; background: transparent; padding-bottom: 0; }
    .status{
        padding: 16px 18px 8px 18px; display:flex; align-items:center; justify-content:space-between;
        font-weight:600; font-size:14px; color:var(--text);
        position: sticky; top: 0; background: inherit; z-index: 5;
    }
    .notch{ height:26px; width:150px; background:#000; border-radius:16px; margin:6px auto 10px auto; }
    h1{
        margin:4px 18px 0 18px; 
        font-size:22px; letter-spacing:.3px;
        font-weight:800; text-align: center;
    }
    /* STYLE : Prénom de l'opérateur */
    .operateur-name {
        margin: 4px 18px 24px 18px; 
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        color: var(--muted); 
    }

    /* Grille Principale */
    .grid{
        display:grid; gap:16px;
        grid-template-columns: repeat(3,minmax(0,1fr)); 
        padding:0 18px 10px 18px; 
    }
    .app{
        /* Transparence 50% */
        background-color: rgba(255, 255, 255, 0.50); 
        border-radius:24px;
        padding:16px 10px;
        text-align:center;
        box-shadow: 0 8px 20px rgba(0,0,0,.06); 
        position:relative;
        cursor:pointer;
        transition: transform .2s ease, box-shadow .15s ease;
        touch-action: manipulation;
    }
    .app:active{ 
        transform: scale(0.98); 
        box-shadow:0 6px 16px rgba(0,0,0,.12);
    }
    .icon{
        height:54px; width:54px; margin:0 auto 10px auto;
        border-radius:14px; display:grid; place-items:center;
        color:#fff; font-weight:800; font-size:16px;
        letter-spacing:.5px;
        transition: transform .2s ease;
    }
    .app:hover .icon{ 
        transform: scale(1.15); 
    }

    /* Style pour les images d'icônes */
    .icon img {
        width: 100%; 
        height: 100%;
        object-fit: contain; 
    }

    .label{ font-size:12px; font-weight:700; line-height:1.1 }
    .sub{ font-size:11px; color:var(--muted); margin-top:2px }

    /* Titre de section "REPORTING" */
    .section-title {
        grid-column: span 3; 
        margin: 16px 18px 8px 18px; 
        font-size: 18px; 
        letter-spacing: .3px;
        font-weight: 800;
        text-align: center;
        color: var(--text);
    }
    
    /* Couleurs (inchangées) */
    .green{ background:linear-gradient(135deg,#34d399,#059669) }
    .orange{ background:linear-gradient(135deg,#f59e0b,#d97706) }
    .violet{ background:linear-gradient(135deg,#8b5cf6,#7c3aed) }
    .blue{ background:linear-gradient(135deg,#60a5fa,#2563eb) }
    .gray{ background:linear-gradient(135deg,#64748b,#334155)}
    .black{ background:linear-gradient(135deg,#4b5563,#1f2937)}
    .mint{ background:linear-gradient(135deg,#a7f3d0,#34d399) }
    .red{ background:linear-gradient(135deg,#ef4444,#b91c1c)}
    
    /* Conteneurs pour centrer les tuiles sur deux colonnes */
    .top-apps, .middle-apps, .bottom-apps {
        grid-column: span 3; 
        display:flex; gap:16px;
        justify-content: center; width: 100%;
    }
    .top-app, .middle-app, .bottom-app { 
        flex: 1 1 0; 
        max-width: 140px; 
    }
    
    .report-icon { background:linear-gradient(135deg,#60a5fa,#2563eb); }


    .tos{ text-align:center; color:var(--muted); font-size:12px; margin-top:10px; padding-bottom: 20px; }
    a{ color:inherit; text-decoration:none }

    /* ****************************************************************** */
    /* STYLE POUR LA NOTIFICATION FLOTTANTE (FEEDBACK) */
    /* ****************************************************************** */
    #notification-popup {
        position: fixed; /* Reste fixe par rapport à la vue de l'iPhone */
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--green); /* Couleur verte demandée */
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        font-weight: 700;
        font-size: 14px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        z-index: 100;
        max-width: 80%;
        text-align: center;
    }
    #notification-popup.show {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
    }
    /* ****************************************************************** */
</style>
</head>
<body>

  <div class="iphone-frame">
      <div class="power-button"></div>
      <div class="silence-switch"></div>
      <div class="volume-button volume-up"></div>
      <div class="volume-button volume-down"></div>
      <div class="bottom-speaker"></div>

      <div class="screen-border">
          
          <div class="phone">
              <div class="status">
                  <div id="date-display"></div> 
                  <div>5G ▴▴▴ ▰▰▰</div>
              </div>
              <div class="notch" aria-hidden="true"></div>
              <h1>ACCUEIL VIVIENNE</h1>
              
              <h2 id="prenom-operateur" class="operateur-name"></h2>

              <div class="grid">
                
                <div class="top-apps">
                    <a class="app top-app" href="./CHARLESTON-APPS/ACCUEIL_VISITEUR.html">
                      <div class="icon blue">
                        <img src="./CHARLESTON-APPS/IMG/Icon Visiteurs.png" alt="Icône Visiteurs"> 
                      </div>
                      <div class="label">Accueil Visiteur</div>
                    </a>
                    <a class="app top-app" href="./CHARLESTON-APPS/ACCUEIL_GROUPE.html">
                      <div class="icon gray">
                        <img src="./CHARLESTON-APPS/IMG/Icon Groupes.png" alt="Icône Groupes"> 
                      </div>
                      <div class="label">Accueil Groupe</div>
                    </a>
                </div>
                
                <div class="middle-apps">
                    <a class="app middle-app" href="./CHARLESTON-APPS/RECEPTION_COLIS.html">
                      <div class="icon green">
                        <img src="./CHARLESTON-APPS/IMG/Icon Courrier arrivee.png" alt="Icône Courrier Arrivée"> 
                      </div>
                      <div class="label">Colis / Plis - Arrivée</div>
                      <div class="sub">Enregistrer</div>
                    </a>
                    <a class="app middle-app" href="./CHARLESTON-APPS/DEPART_COLIS.html">
                      <div class="icon red">
                        <img src="./CHARLESTON-APPS/IMG/Icon Courrier depart.png" alt="Icône Courrier Départ"> 
                      </div>
                      <div class="label">Colis / Plis - Départ</div>
                      <div class="sub">Traiter</div>
                    </a>
                </div>
                
                <div class="bottom-apps">
                    <a class="app bottom-app" href="./CHARLESTON-APPS/EMPRUNT_PARAPLUIE.html">
                      <div class="icon mint">
                        <img src="./CHARLESTON-APPS/IMG/Icon Parapluie.png" alt="Icône Parapluie">
                      </div>
                      <div class="label">Parapluies</div>
                      <div class="sub">Emprunt / Retour</div>
                    </a>
                    
                    <div class="app bottom-app" onclick="copyBagageExpress()">
                      <a href="#" style="display: block; text-decoration: none; color: inherit;">
                          <div class="icon orange">
                              <img src="./CHARLESTON-APPS/IMG/Icon Bagage Express.png" alt="Icône Bagage Express">
                          </div>
                          <div class="label">App Express</div>
                      </a>
                    </div>
                </div>

                <h2 class="section-title">REPORTING</h2> 
                
                <a class="app" href="./CHARLESTON-APPS/REPORTING_VISITEURS_MOIS.html">
                  <div class="icon report-icon">
                    <img src="./CHARLESTON-APPS/IMG/Icon Report01.png" alt="Icône Rapport Visiteurs/Jours"> 
                  </div>
                  <div class="label">Visiteurs<br>Jours</div>
                  <div class="sub">Mois</div>
                </a>
                <a class="app" href="./CHARLESTON-APPS/REPORTING_VISITEURS_HORAIRES.html">
                  <div class="icon report-icon">
                    <img src="./CHARLESTON-APPS/IMG/Icon Report02.png" alt="Icône Rapport Visiteurs/Horaires">
                  </div>
                  <div class="label">Visiteurs<br>Horaires</div>
                  <div class="sub">Mois</div>
                </a>
                <a class="app" href="#reporting3">
                  <div class="icon report-icon">
                    <img src="./CHARLESTON-APPS/IMG/Icon Report03.png" alt="Icône Rapport Colis/Plis">
                  </div>
                  <div class="label">Colis<br>Plis</div>
                  <div class="sub">Mois</div>
                </a>

              </div>

              <p class="tos">
                  <a href="#" onclick="afficherAvertissement('./CHARLESTON-APPS'); return false;">
                      Conditions d’utilisation
                  </a>
              </p>
          </div>

      </div>
  </div>
  
  <div id="notification-popup"></div>


  <script>
    // *******************************************************************
    // 1. GESTION DE LA DATE DU JOUR (Rend la date dynamique)
    // *******************************************************************
    document.addEventListener('DOMContentLoaded', () => {
        const dateDisplay = document.getElementById('date-display');
        
        if (dateDisplay) {
            // Fonction pour obtenir la date du jour formatée (ex: 13 oct)
            const options = { day: 'numeric', month: 'short' };
            let dateAffichee = new Date().toLocaleDateString('fr-FR', options);
            
            // Supprimer le point final après le mois et mettre à jour le contenu
            dateDisplay.textContent = dateAffichee.replace('.', '');
        }
    });


    // *******************************************************************
    // 2. GESTION DU PRÉNOM DE L'OPÉRATEUR (Stockage Local)
    // *******************************************************************

    const KEY_PRENOM = 'vivienne_operateur_prenom';

    function getPrenomOperateur() {
        let prenom = localStorage.getItem(KEY_PRENOM);
        
        // Si le prénom n'existe pas, demander à l'utilisateur et l'enregistrer
        if (!prenom) {
            // Utiliser un prompt pour simuler la récupération du login Windows
            let saisie = prompt("Bienvenue ! Veuillez entrer votre prénom pour personnaliser l'application :");
            
            if (saisie) {
                // Stocker uniquement le premier mot s'il y a plusieurs mots (juste le prénom)
                prenom = saisie.split(/\s+/)[0]; 
                localStorage.setItem(KEY_PRENOM, prenom);
            } else {
                prenom = 'Opérateur';
            }
        }
        return prenom;
    }

    // Afficher le prénom récupéré
    document.addEventListener('DOMContentLoaded', () => {
        const prenom = getPrenomOperateur();
        const prenomOperateurElement = document.getElementById('prenom-operateur');

        if (prenomOperateurElement) {
            prenomOperateurElement.textContent = `Bienvenue, ${prenom}`;
        }
    });

  </script>
  
  <script src="./CHARLESTON-APPS/actions_express.js"></script>

</body>
</html>